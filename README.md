# Web-интерфейс для CRM системы

Проект выполнен с использованием *JavaScript*, без применения npm и фреймворков. 
Backend-часть была готовая, необходимо было сделать frontend.
**Цель** в практике JavaScript.

## Запуск

Перед запуском убедитесь, что вы установили Node.js версии 12 или выше.

Для запуска сервера перейдите в [папку crm-backend](./crm-backend/) и через терминал выполните команду `node index`. Для остановки нажмите сочетание клавиш CTRL+C.
После запуска сервера с помощью браузера открыть [index.html](./crm-frontend/index.html)

## Функционал Web-интерфейсф для CRM системы:
1. Отображение списка клиентов в виде таблицы
2. Добавление нового клиента
3. Редактирование данных существующего клиента
4. Сортировка клиентов по различным критериям
5. Поиск клиента по запросу

Интерфейс представляет из себя единственную страницу, на которой отображены:
- логотип компании;
- поисковая строка;
- таблица с данными клиентов;
- кнопка для добавления нового клиента;

## Структура приложения

### 1. Поиск клиента
После ввода запроса в строку поиска и при наличии совпадений с данными API под полем ввода появляется список найденных клиентов. При выборе клиента из данного списка происходит прокрутка страницы до аналогичного клиента в таблице.

### 2. Таблица
Представляет список клиентов и их данные, содержит колонки:
1. `ID`
включает в себя уникальный идентификационный номер, при создании заполняется сервером автоматически, после создания нельзя изменить;
2. `Фамилия Имя Отчество`
заполняется пользователем, в последствии доступно к редактированию (через действие "Изменить");
3. `Дата и время создания`
при создании заполняется сервером автоматически, после создания нельзя изменить;
4. `Последние изменения`
включает в себя дату и время последних изменений, заполняется сервером автоматически при каждом рндактировании;
5. `Контакты`
заполняется пользователем, в последствии доступно к редактированию (через действие "Изменить");
6. `Действия`
включает в себя кнопки для действий: **"Изменить"** и **"Удалить"** (Подробнее в пункте 4);

Допустимые к взаимодействию колонки:
- контакты
отображаются кликабельными иконками, при наведении курсора появляется всплывающая подсказка с типом и значением этого контакта;
- действия;

### 3. Сортировка
Возможны варианты по следующим признакам:
- `ID`;
- `Фамилия Имя Отчество`;
- `Дата и время создания`;
- `Дата и время последнего изменения`;
Для установления сортировки необходимо нажать на соответствующий заголовок колонки.
Первое нажатие устанавливает сортировку по возрастанию, повторное - по убыванию.
Иконки около заголовков указывают текущее направление сортировки.

### 4. Взаимодействие с клиентами
Варианты:
- *Создать* клиента (по кнопке **Добавить клиента**, расположенной внизу страницы таблицы)
- *Изменить* (по кнопке **Изменить**, расположеой слева в колонке "Действия");
- *Удалить* (по кнопке **Удалить**, расположеой справа в колонке "Действия");
При нажатии на одну из вышеперечисленных кнопок появляется соответствующее модальное окно.

Модальные окна создания и редактировании данных клиента содержат в себе форму(подробнее пункт 5).
Модальное окно для создания клиента открывает пустую незаполненную форму.
Для изменения данных, перед открытием формы, из API запрашивается информация о клиенте. После получения данных, открывается заполненная форма, доступная к редактированию.
Модальное окно для удаления клиента содержит в себе кнопку для подтверждения действия **Удалить** и кнопку отмены действия **Отмена**. При подтверждении удаления клиент удаляется.

### 5. Форма модального окна
Имеет 3 редактируемых поля, куда заполняется:
- *фамилия* (обязательное);
- *имя* (обязательное);
- *отчество*;

Так же включен блок контактов с кнопкой **Добавить контакт** для создания нового контакта. Максимальное количество контактов - 10. При достижении максимума кнопка **Добавить контакт** не отображается.

Допустимые варианты типов контактов:
- `Телефон`;
- `Email`;
- `Facebook`;
- `VK`;
- `Другое`;
Тип контакта выбирается из выпадающего списка с выбором одного из значении.
Каждому типу соответствует своя иконка.
Если оставить поле контакта незаполненным и сохранить карточку клиента, то пустой контакт будет автоматически удален.
При внесении данных в поле контакта, справа появляется кнопка в виде **Х**, при нажатии на него контакт удаляется.

Внизу расположена большая кнопка **Сохранить**. Если сохраняется новый клиент, то информация о нём появляется внизу таблицы. При сохранении в модальном окне изменения данных, аналогичные изменения появляются в таблице.
Под кнопкой "Сохранить":
- в модальном окне создания нового клиента расположена кнопка **Отмена**, нажатие на которую закроет окно без сохранения данных, даже если они вписаны в соответствующие поля.
- в модальном окне изменения данных клиента расположена кнопка **Удалить клиента**, нажатие на которую удалит информацию о клиенте.

Кнопки, предназначенные для сохранения и удаления, изменяют данные как в таблице, так и на сервере АРI.

### 5. Способы закрыть модальное окно
1. По клику на кнопку **Х**, расположенную в правом верхнем углу;
2. По клику на фон за пределами модального окна;
3. По клавише **Esc**;
4. Для модальных окон создания и удаления по кнопке **Отмена** внизу окна;
5. После успешного сохранения/удаления клиента;

### 6. Дополнения:
Модальное окно изменения данных клиента одновременно является карточкой клиента. Ссылка на карточку находится внутри модального окна сверху. Клик по ссылке приведёт к её копироанию.
Индикация загрузки в виде спиннера. При первичной загрузке страницы индикатор в прелелах таблицы. При сохранении клиента - индикатор на кнопке "Сохранить" слева от слова. Инидкатор к кнопкам действия "Изменить"/"Удалить" слева от слова, заменяет иконки кнопок.
